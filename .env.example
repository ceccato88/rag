# =============================================================================
# CONFIGURAÇÃO DO SISTEMA RAG
# =============================================================================

# -----------------------------------------------------------------------------
# API KEYS (OBRIGATÓRIAS)
# -----------------------------------------------------------------------------
# Chave da API OpenAI - usada para GPT-4 (geração de respostas e re-ranking)
# Obtenha em: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-...

# Chave da API Voyage AI - usada para gerar embeddings multimodais (texto + imagem)
# Obtenha em: https://www.voyageai.com/
VOYAGE_API_KEY=pa-...

# -----------------------------------------------------------------------------
# CONFIGURAÇÃO DO BANCO DE DADOS ASTRA DB (OBRIGATÓRIA)
# -----------------------------------------------------------------------------
# Endpoint do seu database Astra DB - encontre no painel do DataStax
ASTRA_DB_API_ENDPOINT=https://your-db-id-region.apps.astra.datastax.com

# Token de aplicação do Astra DB - gere no painel do DataStax
ASTRA_DB_APPLICATION_TOKEN=AstraCS:...

# -----------------------------------------------------------------------------
# MODELOS DE IA
# -----------------------------------------------------------------------------
# Modelo LLM principal para RAG
RAG_LLM_MODEL=gpt-4o

# Modelo de embedding para texto
RAG_EMBEDDING_MODEL=voyage-3

# Modelo para sistema multi-agente
MULTIAGENT_MODEL=gpt-4o-mini

# Modelo de embedding multimodal
VOYAGE_MULTIMODAL_MODEL=voyage-multimodal-3

# -----------------------------------------------------------------------------
# LIMITES E TOKENS
# -----------------------------------------------------------------------------
# Número máximo de candidatos retornados na busca
MAX_CANDIDATES=5

# Máximo de tokens para re-ranking
MAX_TOKENS_RERANK=512

# Máximo de tokens para resposta final
MAX_TOKENS_ANSWER=2048

# Máximo de tokens para transformação de queries
MAX_TOKENS_QUERY_TRANSFORM=150

# Máximo de tokens para decomposição multi-agente
MAX_TOKENS_DECOMPOSITION=1000

# Dimensão dos embeddings Voyage
VOYAGE_EMBEDDING_DIM=1024

# Máximo de tokens por entrada
MAX_TOKENS_PER_INPUT=32000

# -----------------------------------------------------------------------------
# CACHE E PERFORMANCE
# -----------------------------------------------------------------------------
# Tamanho do cache de embeddings
EMBEDDING_CACHE_SIZE=500

# TTL do cache de embeddings (segundos)
EMBEDDING_CACHE_TTL=3600

# Tamanho do cache de respostas
RESPONSE_CACHE_SIZE=100

# TTL do cache de respostas (segundos)
RESPONSE_CACHE_TTL=1800

# Tamanho do cache global
GLOBAL_CACHE_SIZE=1000

# TTL do cache global (segundos)
GLOBAL_CACHE_TTL=3600

# -----------------------------------------------------------------------------
# TIMEOUTS E RETRIES
# -----------------------------------------------------------------------------
# Timeout para subagentes (segundos)
SUBAGENT_TIMEOUT=180.0

# Timeout para download de PDFs (segundos)
DOWNLOAD_TIMEOUT=30

# Número máximo de tentativas
MAX_RETRIES=3

# Delay entre tentativas (segundos)
RETRY_DELAY=1.0

# Threshold do circuit breaker
CIRCUIT_BREAKER_THRESHOLD=5

# Timeout do circuit breaker (segundos)
CIRCUIT_BREAKER_TIMEOUT=60

# -----------------------------------------------------------------------------
# SISTEMA MULTI-AGENTE
# -----------------------------------------------------------------------------
# Número máximo de subagentes
MAX_SUBAGENTS=3

# Execução paralela (true/false)
PARALLEL_EXECUTION=true

# Usar decomposição com LLM (true/false)
USE_LLM_DECOMPOSITION=true

# Limite de concorrência
CONCURRENCY_LIMIT=3

# -----------------------------------------------------------------------------
# INDEXING E PROCESSAMENTO
# -----------------------------------------------------------------------------
# URL padrão do PDF para processamento
DEFAULT_PDF_URL=https://arxiv.org/pdf/2501.13956

# Nome da collection no banco
COLLECTION_NAME=pdf_documents

# Tamanho do chunk para download (bytes)
DOWNLOAD_CHUNK_SIZE=8192

# Tamanho do lote para processamento
BATCH_SIZE=100

# Escala do pixmap para imagens
PIXMAP_SCALE=2

# Tokens por pixel para cálculo
TOKENS_PER_PIXEL=0.00178571

# Ratio de tokens por caractere
TOKEN_CHARS_RATIO=4

# Concorrência para processamento
PROCESSING_CONCURRENCY=5

# Idade máxima para limpeza (horas)
CLEANUP_MAX_AGE=24

# -----------------------------------------------------------------------------
# SISTEMA DE MEMÓRIA
# -----------------------------------------------------------------------------
# Tamanho máximo do cache L1
L1_CACHE_MAX_SIZE=1000

# Tamanho máximo do cache L2
L2_CACHE_MAX_SIZE=5000

# Número de shards para memória
MEMORY_SHARDS=4

# Estratégia de sharding
SHARD_STRATEGY=agent_hash

# Diretório para imagens
IMAGE_DIR=pdf_images
